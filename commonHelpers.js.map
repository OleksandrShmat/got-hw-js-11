{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const loader = document.querySelector('.loader');\n\nexport function showLoader() {\n  loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  loader.style.display = 'none';\n}\n\nexport function performSearch(searchQuery) {\n  const API_KEY = '44758497-ea11318ae0823ef09cb8fbdb5';\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n    searchQuery\n  )}&image_type=photo`;\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error('Не вдалося виконати запит.');\n    }\n    return response.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('#gallery');\n\nexport function renderImages(images) {\n  const markup = images\n    .map(image => {\n      return `\n      <div class=\"image-card\">\n            <a href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" width=360 height=200 alt=\"${image.tags}\" /></a>\n            <div class=\"image-text\">\n            <ul>\n        <li><p>likes:</p><p>${image.likes}</p></li>\n        <li><p>views:</p><p>${image.views}</p></li>\n        <li><p>comments:</p><p>${image.comments}</p></li>\n        <li><p>downloads:</p><p>${image.downloads}</p></li>\n        </ul>\n        </div>\n      </div>\n    `;\n    })\n    .join('');\n\n  gallery.innerHTML = markup;\n  lightbox.refresh();\n}\nconst lightbox = new SimpleLightbox('.image-card a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  navText: ['&larr;', '&rarr;'],\n  closeText: '&times;',\n});\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { performSearch, showLoader, hideLoader } from './js/pixabay-api.js';\nimport { renderImages } from './js/render-functions';\n\nconst searchForm = document.querySelector('#search-form');\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  const formData = new FormData(event.target);\n  const searchQuery = formData.get('query');\n  if (!searchQuery.trim()) {\n    return iziToast.show({\n      position: 'center',\n      backgroundColor: 'orange',\n      message: 'Введіть пошуковий запит.',\n    });\n  }\n  showLoader();\n  performSearch(searchQuery.trim())\n    .then(data => {\n      if (data.hits.length === 0) {\n        return iziToast.show({\n          position: 'topRight',\n          backgroundColor: 'red',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      iziToast.show({\n        position: 'topRight',\n        backgroundColor: 'green',\n        message: `Found ${data.totalHits} results.`,\n      });\n      console.log(data.hits);\n      renderImages(data.hits);\n      searchForm.reset();\n    })\n    .catch(error => {\n      iziToast.show({\n        position: 'topRight',\n        backgroundColor: 'red',\n        message: 'Error during the request. Please try again later.',\n      });\n    })\n    .finally(() => hideLoader());\n});\n"],"names":["loader","showLoader","hideLoader","performSearch","searchQuery","URL","response","gallery","renderImages","images","markup","image","lightbox","SimpleLightbox","searchForm","event","iziToast","data","error"],"mappings":"6vBAAA,MAAMA,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,GAAa,CAC3BD,EAAO,MAAM,QAAU,OACzB,CAEO,SAASE,GAAa,CAC3BF,EAAO,MAAM,QAAU,MACzB,CAEO,SAASG,EAAcC,EAAa,CAEzC,MAAMC,EAAM,qEAA6C,mBACvDD,CACD,CAAA,oBACD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,4BAA4B,EAE9C,OAAOA,EAAS,MACpB,CAAG,CACH,CClBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAaC,EAAQ,CACnC,MAAMC,EAASD,EACZ,IAAIE,GACI;AAAA;AAAA,uBAEUA,EAAM,aAAa,eAAeA,EAAM,YAAY,+BAA+BA,EAAM,IAAI;AAAA;AAAA;AAAA,8BAGtFA,EAAM,KAAK;AAAA,8BACXA,EAAM,KAAK;AAAA,iCACRA,EAAM,QAAQ;AAAA,kCACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAK5C,EACA,KAAK,EAAE,EAEVJ,EAAQ,UAAYG,EACpBE,EAAS,QAAO,CAClB,CACA,MAAMA,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,IACd,QAAS,CAAC,SAAU,QAAQ,EAC5B,UAAW,SACb,CAAC,EC1BKC,EAAa,SAAS,cAAc,cAAc,EACxDA,EAAW,iBAAiB,SAAUC,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMX,EADW,IAAI,SAASW,EAAM,MAAM,EACb,IAAI,OAAO,EACxC,GAAI,CAACX,EAAY,OACf,OAAOY,EAAS,KAAK,CACnB,SAAU,SACV,gBAAiB,SACjB,QAAS,0BACf,CAAK,EAEHf,IACAE,EAAcC,EAAY,MAAM,EAC7B,KAAKa,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,OAAOD,EAAS,KAAK,CACnB,SAAU,WACV,gBAAiB,MACjB,QACE,0EACZ,CAAS,EAEHA,EAAS,KAAK,CACZ,SAAU,WACV,gBAAiB,QACjB,QAAS,SAASC,EAAK,SAAS,WACxC,CAAO,EACD,QAAQ,IAAIA,EAAK,IAAI,EACrBT,EAAaS,EAAK,IAAI,EACtBH,EAAW,MAAK,CACtB,CAAK,EACA,MAAMI,GAAS,CACdF,EAAS,KAAK,CACZ,SAAU,WACV,gBAAiB,MACjB,QAAS,mDACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAMd,EAAU,CAAE,CAC/B,CAAC"}